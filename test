#include <iostream>
#include <conio.h>
#include <string>
#include <windows.h>
#include <cstdlib>
#include <ctime>  
using namespace std;

#define RESET   "\033[0m"
#define GREEN   "\033[32m"
#define LIGHT_GREEN "\033[92m"
#define DARK_GREEN   "\033[32;1m"

// تغییر رنگ کنسول
void setColor(int color) {
    SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), color);
}
void printLogo() {
    string spaceInvaderText[] = {
    "███████╗██████╗  █████╗  ██████╗███████╗  ██╗███╗   ██╗██╗   ██╗ █████╗ ██████╗ ███████╗██████╗ ",
    "██╔════╝██╔══██╗██╔══██╗██╔════╝██╔════╝  ██║████╗  ██║██║   ██║██╔══██╗██╔══██╗██╔════╝██╔══██╗",
    "███████╗██████╔╝███████║██║     █████╗    ██║██╔██╗ ██║██║   ██║███████║██║  ██║█████╗  ██████╔╝",
    "╚════██║██╔═══╝ ██╔══██║██║     ██╔══╝    ██║██║╚██╗██║╚██╗ ██╔╝██╔══██║██║  ██║██╔══╝  ██╔══██╗",
    "███████║██║     ██║  ██║╚██████╗███████╗  ██║██║ ╚████║ ╚████╔╝ ██║  ██║██████╔╝███████╗██║  ██║",
    "╚══════╝╚═╝     ╚═╝  ╚═╝ ╚═════╝╚══════╝  ╚═╝╚═╝  ╚═══╝  ╚═══╝  ╚═╝  ╚═╝╚═════╝ ╚══════╝╚═╝  ╚═╝"
    };

    int width = 100;  
    int height = 6;   
   string topBorder = "┏" + string(width - 2, '━') + "┓";  
    string sideBorder = "┃";  
    string bottomBorder = "┗" + string(width - 2, '━') + "┛"; 

    cout << topBorder << endl;

    for (int i = 0; i < height; i++) {
        if (i < 6) {  
            cout << sideBorder << " " << spaceInvaderText[i] << " " << sideBorder << endl;
        } else {
            cout << sideBorder << string(width - 4, ' ') << sideBorder << endl;
        }
    }

    cout << bottomBorder << endl;
}


void printCentered(const string& str, int width) {
    int padding = (width - str.length()) / 2; 
    cout << string(padding, ' ') << str << endl;
}

void clearScreen() {
#ifdef _WIN32
    system("cls");
#endif
}

void mainMenu(int selected) {
    string options[5] = {"New game", "Load game", "Leaderboard", "Credits", "Exit"};
    int width = 80;

    printCentered("Main Menu", width);
    cout << endl;

    for (int i = 0; i < 5; i++) {
        if (i == selected) {
            setColor(2);  
            cout << "  >> " << options[i] << endl;
            setColor(7);  
        } else {
            setColor(8);  
            cout << "     " << options[i] << endl;
            setColor(7);  
        }
    }
}

void newGame() {
    cout << "Starting a new game..." << endl;
}

void loadGame() {
    cout << "Loading game..." << endl;
}

void showLeaderboard() {
    cout << "Showing leaderboard..." << endl;
}

void credits() {
    cout << "Showing credits..." << endl;
}

int main() {
    srand(time(0));  
    int selected = 0;
    bool running = true;

    system("cls");
    printLogo();  

    cout << "\nPress ENTER to enter the main menu..." << endl;

    while (_getch() != '\r');  // منتظر فشار دادن کلید ENTER

    // وارد منوی اصلی شوید
    while (running) {
        clearScreen();  // پاک کردن صفحه نمایش
        printLogo();    // دوباره چاپ لوگو در داخل مستطیل
        mainMenu(selected);  // نمایش منوی اصلی

        char key = _getch();

        if (key == 'w' || key == 'W') {
            selected = (selected - 1 + 5) % 5;
        } else if (key == 's' || key == 'S') {
            selected = (selected + 1) % 5;
        } else if (key == '\r') {
            if (selected == 0) {
                newGame();
            } else if (selected == 1) {
                loadGame();
            } else if (selected == 2) {
                showLeaderboard();
            } else if (selected == 3) {
                credits();
            } else if (selected == 4) {
                running = false;
            }
            system("pause");
        }
    }

    return 0;
}
